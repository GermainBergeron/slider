var SliderMethods={Destroy:"destroy",Update:"update"},Slider=function(){function e(t){var i=this;t.slider&&_.isUndefined(t.min)&&t.slider.attr("min")&&(t.min=parseFloat(t.slider.attr("min"))),t.slider&&_.isUndefined(t.max)&&t.slider.attr("max")&&(t.max=parseFloat(t.slider.attr("max"))),this.options=_.defaults(t,this.defaults()),this.$el=this.options.slider,this._uid=++e._uid,this.$el.attr({"data-uid":this._uid,max:this.options.max,min:this.options.min}),this.$el.on("input change",function(){return i.update()})}return e.prototype.defaults=function(){return{colors:{lower:e.LowerDefaultColor,upper:e.UpperDefaultColor},min:0,max:100,labels:[],value:e.DefaultValue}},e.prototype.update=function(){var e=(this.value-this.min)/(this.max-this.min)*100;this.updateSliderColors(e)},e.prototype.updateSliderColors=function(t){var i=this.$el.prev("."+e.StyleElementClass),r=this.options.colors,l="background: linear-gradient(to right, "+r.lower+" "+t+"%, "+r.upper+" "+t+"%);",a=".coveo-input-slider[data-uid='"+this._uid+"']",n=["input[type=range]"+a+"::-webkit-slider-runnable-track {",l,"}"].join(""),s=["input[type=range]"+a+"::-moz-range-track {",l,"}"].join(""),o=["input[type=range]"+a+"::-ms-fill-lower {","background: ",this.options.colors.lower,"}","input[type=range]"+a+"::-ms-fill-upper {","background: ",this.options.colors.upper,"}"].join("");i.html([n,s,o].join(""))},Object.defineProperty(e.prototype,"value",{get:function(){return parseFloat(this.$el.val())},set:function(e){var t=Math.min(e,this.options.max),i=Math.max(t,this.options.min);this.$el.val(i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return parseFloat(this.$el.attr("min"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return parseFloat(this.$el.attr("max"))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(t){this.$el.prev("."+e.StyleElementClass).remove(),this.$el.removeData("slider"),this.$el.removeAttr("data-uid"),this.$el.off("input change"),t.removeData("slider")},e.LowerDefaultColor="#f57f03",e.UpperDefaultColor="#dddddd",e.StyleElementClass="coveo-input-slider-style",e.InputElementClass="coveo-input-slider",e.DefaultValue=50,e._uid=0,e}();+function(e){"use strict";function t(e,t){var l,a;return e.is('input[type="range"]')?(a=e,l=e.prev("style."+Slider.StyleElementClass),0==l.length&&(l=i(),e.before(l))):(l=e.children("style."+Slider.StyleElementClass),0==l.length&&(l=i(),e.prepend(l)),a=e.children('input[type="range"].'+Slider.InputElementClass),0==a.length&&(a=r(t||Slider.DefaultValue),e.append(a))),{input:a,style:l}}var i=function(){return e("<style />",{type:"text/css","class":Slider.StyleElementClass})},r=function(t){return e("<input />",{type:"range","class":Slider.InputElementClass,value:t})};e.fn.slider=function(i){var r=e(this);i=i||{slider:r};var l=r.data("slider");if(l&&l instanceof Slider){var l=r.data("slider");if(_.isNumber(i))l.value=i,t(r,l.value),l.update();else if(i&&!_.isUndefined(i.value))l.value=i.value,t(r,l.value),l.update();else if(_.isString(i))switch(t(r,l.value),i){case SliderMethods.Destroy:l.destroy(r);break;case SliderMethods.Update:l.update()}else t(r,l.value),l.update()}else{var a=i,n=t(r,a.value);a.slider=n.input,l=new Slider(a),r.data("slider",l)}return l.update(),r}}(jQuery);