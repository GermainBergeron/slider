var Slider=function(){function e(t){var i=this;this.options=_.defaults(t,this.defaults()),this.$el=this.options.slider,this._uid=++e._uid,this.$el.attr({"data-uid":this._uid,max:this.options.max,min:this.options.min}),this.$el.on("input change",function(){return i.update()})}return e.prototype.defaults=function(){return{colors:{lower:e.LowerDefaultColor,upper:e.UpperDefaultColor},min:0,max:100,labels:[],value:e.DefaultValue}},e.prototype.update=function(){var e=this.value/this.options.max*100;this.updateSliderColors(e)},e.prototype.updateSliderColors=function(t){var i=this.$el.prev("."+e.StyleElementClass),l=this.options.colors,r="background: linear-gradient(to right, "+l.lower+" "+t+"%, "+l.upper+" "+t+"%);",n=".coveo-input-slider[data-uid='"+this._uid+"']",s=["input[type=range]"+n+"::-webkit-slider-runnable-track {",r,"}"].join(""),a=["input[type=range]"+n+"::-moz-range-track {",r,"}"].join(""),o=["input[type=range]"+n+"::-ms-fill-lower {","background: ",this.options.colors.lower,"}","input[type=range]"+n+"::-ms-fill-upper {","background: ",this.options.colors.upper,"}"].join("");i.html([s,a,o].join(""))},Object.defineProperty(e.prototype,"value",{get:function(){return parseFloat(this.$el.val())},set:function(e){var t=Math.min(e,this.options.max),i=Math.max(t,this.options.min);this.$el.val(i)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(t){this.$el.prev("."+e.StyleElementClass).remove(),this.$el.removeData("slider"),this.$el.removeAttr("data-uid"),this.$el.off("input change"),t.removeData("slider")},e.LowerDefaultColor="#f57f03",e.UpperDefaultColor="#dddddd",e.StyleElementClass="coveo-input-slider-style",e.InputElementClass="coveo-input-slider",e.DefaultValue=50,e._uid=0,e}();+function(e){"use strict";function t(e,t){var r,n;return e.is('input[type="range"]')?(n=e,r=e.prev("style."+Slider.StyleElementClass),0==r.length&&(r=i(),e.before(r))):(r=e.children("style."+Slider.StyleElementClass),0==r.length&&(r=i(),e.prepend(r)),n=e.children('input[type="range"].'+Slider.InputElementClass),0==n.length&&(n=l(t||Slider.DefaultValue),e.append(n))),{input:n,style:r}}var i=function(){return e("<style />",{type:"text/css","class":Slider.StyleElementClass})},l=function(t){return e("<input />",{type:"range","class":Slider.InputElementClass,value:t})};e.fn.slider=function(i){var l=e(this);i=i||{slider:l};var r=l.data("slider");if(r&&r instanceof Slider){var r=l.data("slider");if(_.isNumber(i))r.value=i,t(l,r.value),r.update();else if(i&&!_.isUndefined(i.value))r.value=i.value,t(l,r.value),r.update();else if(_.isString(i))switch(t(l,r.value),i){case"destroy":r.destroy(l)}else t(l,r.value),r.update()}else{var n=i,s=t(l,n.value);n.slider=s.input,r=new Slider(n),l.data("slider",r)}return r.update(),l}}(jQuery);